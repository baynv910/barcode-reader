<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check in App</title>
    <link rel="stylesheet" href="./assets/main.css">
</head>

<body>
    <div class="fixed-nav" style="display: none;">
        <p>IP:
        <span id="gfg"></span></p>
    </div>
    <div class="container" style="text-align: center">
        
        
        <canvas id="canvas" width="360" height="auto" style="border: 1px solid #333;"></canvas>
        <div style="color: red; margin-bottom: 15px;">Use the camera to scan QR Code, Barcode, ...</div>
        <!-- <div class="content">
            <div><span id="barcodes"> 1</span> <button onclick="addToResults()">INSERT</button></div>
            
        </div> -->
        <h4 style="text-align: center; margin: 5px 0px 0px 0px;">LIST RESULTS</h4>

        <table class="placeholder-table" style="margin: 0 auto; text-align: center;">
            <tr>
                <td style="width: 33%;"><b>Timestamp</b></td>
                <td style="width: 33%;"><b>Code</b></td>
                <td style="width: 33%;"><b>User IP</b></td>
            </tr>
        </table>
        <hr>
        <div class="data-exported">
            <table id="res-list" style="margin: 0 auto;">
                <tr style="display: none;">
                    <td><b>Timestamp</b></td>
                    <td><b>Code</b></td>
                    <td><b>User IP</b></td>
                </tr>
            </table>
        </div>

        <hr>
        <button onclick="download_table_as_csv('res-list')" id="exportBtn">Download As CSV</button>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>
    <script>

        /* Add "https://api.ipify.org?format=json" statement
                   this will communicate with the ipify servers in
                   order to retrieve the IP address $.getJSON will
                   load JSON-encoded data from the server using a
                   GET HTTP request */

        $.getJSON("https://api.ipify.org?format=json", function (data) {

            // Setting text of element P with id gfg
            $("#gfg").html(data.ip);
        })
    </script>
    <script src="./assets/main.js"></script>
</body>

</html>